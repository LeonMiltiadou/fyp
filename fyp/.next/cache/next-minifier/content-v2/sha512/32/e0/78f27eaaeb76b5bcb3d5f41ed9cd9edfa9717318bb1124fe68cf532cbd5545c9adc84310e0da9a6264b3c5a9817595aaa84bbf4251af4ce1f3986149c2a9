{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{QCli:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/checkout\",function(){return a(\"fdRS\")}])},fdRS:function(e,t,a){\"use strict\";a.r(t);var n=a(\"H+61\"),i=a(\"UlJF\"),s=a(\"7LId\"),o=a(\"VIvw\"),c=a(\"iHvq\"),h=a(\"q1tI\"),r=a.n(h),l=a(\"vJKn\"),u=a.n(l),p=a(\"rg98\"),m=a(\"+Css\"),d=a(\"cpVT\"),g=a(\"oKQX\"),_=a(\"26zG\"),y=r.a.createElement;function f(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var C=function(e){Object(s.a)(a,e);var t=f(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={firstName:\"Jane\",lastName:\"Doe\",email:\"janedoe@email.com\",shippingName:\"Jane Doe\",shippingStreet:\"123 Fake St\",shippingCity:\"London\",shippingStateProvince:\"\",shippingPostalZipCode:\"\",shippingCountry:\"\",cardNum:\"4242 4242 4242 4242\",expMonth:\"11\",expYear:\"2023\",ccv:\"123\",billingPostalZipcode:\"SM4 4ED\",shippingCountries:{},shippingSubdivisions:{},shippingOptions:[],shippingOption:\"\"},i.handleFormChanges=i.handleFormChanges.bind(Object(m.a)(i)),i.handleShippingCountryChange=i.handleShippingCountryChange.bind(Object(m.a)(i)),i.handleSubdivisionChange=i.handleSubdivisionChange.bind(Object(m.a)(i)),i.handleCaptureCheckout=i.handleCaptureCheckout.bind(Object(m.a)(i)),i}return Object(i.a)(a,[{key:\"getStaticProps\",value:function(){var e=Object(p.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.context.fetchCart(),e.abrupt(\"return\",{props:{}});case 2:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"componentDidMount\",value:function(){this.context.generateCheckoutToken()}},{key:\"componentDidUpdate\",value:function(e,t){this.state.shippingCountry!==t.shippingCountry&&this.fetchShippingOptions(this.state.checkoutToken.id,this.state.shippingCountry)}},{key:\"fetchShippingCountries\",value:function(e){var t=this;g.a.services.localeListShippingCountries(e).then((function(e){t.setState({shippingCountries:e.countries})})).catch((function(e){console.log(\"There was an error fetching a list of shipping countries\",e)}))}},{key:\"fetchSubdivisions\",value:function(e){var t=this;g.a.services.localeListSubdivisions(e).then((function(e){t.setState({shippingSubdivisions:e.subdivisions})})).catch((function(e){console.log(\"There was an error fetching the subdivisions\",e)}))}},{key:\"fetchShippingOptions\",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;g.a.checkout.getShippingOptions(e,{country:t,region:n}).then((function(e){var t=e[0]||null;a.setState({shippingOption:t,shippingOptions:e})})).catch((function(e){console.log(\"There was an error fetching the shipping methods\",e)}))}},{key:\"handleFormChanges\",value:function(e){this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:\"handleShippingCountryChange\",value:function(e){var t=e.target.value;this.fetchSubdivisions(t)}},{key:\"handleSubdivisionChange\",value:function(e){var t=e.target.value;this.fetchShippingOptions(this.state.checkoutToken.id,this.state.shippingCountry,t)}},{key:\"handleCaptureCheckout\",value:function(e){e.preventDefault();try{var t={tokenID:this.context.checkoutToken.id,line_items:this.context.checkoutToken.live.line_items,customer:{firstname:this.state.firstName,lastname:this.state.lastName,email:this.state.email},shipping:{name:this.state.shippingName,street:this.state.shippingStreet,town_city:this.state.shippingCity,county_state:this.state.shippingStateProvince,postal_zip_code:this.state.shippingPostalZipCode,country:this.state.shippingCountry},fulfillment:{shipping_method:this.state.shippingOption.id},payment:{gateway:\"test_gateway\",card:{number:this.state.cardNum,expiry_month:this.state.expMonth,expiry_year:this.state.expYear,cvc:this.state.ccv,postal_zip_code:this.state.billingPostalZipcode}}};this.context.handleCaptureCheckout(t)}catch(a){console.log(\"There was an error with the order data\",a)}}},{key:\"renderCheckoutForm\",value:function(){var e=this.state,t=e.shippingCountries,a=e.shippingSubdivisions,n=e.shippingOptions;return y(\"form\",{className:\"checkout__form\",onChange:this.handleFormChanges},y(\"h4\",{className:\"checkout__subheading\"},\"Customer information\"),y(\"label\",{className:\"checkout__label\",htmlFor:\"firstName\"},\"First name\"),y(\"input\",{className:\"checkout__input\",type:\"text\",onChange:this.handleFormChanges,value:this.state.firstName,name:\"firstName\",placeholder:\"Enter your first name\",required:!0}),y(\"label\",{className:\"checkout__label\",htmlFor:\"lastName\"},\"Last name\"),y(\"input\",{className:\"checkout__input\",type:\"text\",onChange:this.handleFormChanges,value:this.state.lastName,name:\"lastName\",placeholder:\"Enter your last name\",required:!0}),y(\"label\",{className:\"checkout__label\",htmlFor:\"email\"},\"Email\"),y(\"input\",{className:\"checkout__input\",type:\"text\",onChange:this.handleFormChanges,value:this.state.email,name:\"email\",placeholder:\"Enter your email\",required:!0}),y(\"h4\",{className:\"checkout__subheading\"},\"Shipping details\"),y(\"label\",{className:\"checkout__label\",htmlFor:\"shippingName\"},\"Full name\"),y(\"input\",{className:\"checkout__input\",type:\"text\",onChange:this.handleFormChanges,value:this.state.shippingName,name:\"shippingName\",placeholder:\"Enter your shipping full name\",required:!0}),y(\"label\",{className:\"checkout__label\",htmlFor:\"shippingStreet\"},\"Street address\"),y(\"input\",{className:\"checkout__input\",type:\"text\",onChange:this.handleFormChanges,value:this.state.shippingStreet,name:\"shippingStreet\",placeholder:\"Enter your street address\",required:!0}),y(\"label\",{className:\"checkout__label\",htmlFor:\"shippingCity\"},\"City\"),y(\"input\",{className:\"checkout__input\",type:\"text\",onChange:this.handleFormChanges,value:this.state.shippingCity,name:\"shippingCity\",placeholder:\"Enter your city\",required:!0}),y(\"label\",{className:\"checkout__label\",htmlFor:\"shippingPostalZipCode\"},\"Postal/Zip code\"),y(\"input\",{className:\"checkout__input\",type:\"text\",onChange:this.handleFormChanges,value:this.state.shippingPostalZipCode,name:\"shippingPostalZipCode\",placeholder:\"Enter your postal/zip code\",required:!0}),y(\"label\",{className:\"checkout__label\",htmlFor:\"shippingCountry\"},\"Country\"),y(\"select\",{value:this.state.shippingCountry,name:\"shippingCountry\",onChange:this.handleShippingCountryChange,className:\"checkout__select\"},y(\"option\",{disabled:!0},\"Country\"),Object.keys(t).map((function(e){return y(\"option\",{value:e,key:e},t[e])})),\";\"),y(\"label\",{className:\"checkout__label\",htmlFor:\"shippingStateProvince\"},\"State/province\"),y(\"select\",{value:this.state.shippingStateProvince,name:\"shippingStateProvince\",onChange:this.handleSubdivisionChange,className:\"checkout__select\"},y(\"option\",{className:\"checkout__option\",disabled:!0},\"State/province\"),Object.keys(a).map((function(e){return y(\"option\",{value:e,key:e},a[e])})),\";\"),y(\"label\",{className:\"checkout__label\",htmlFor:\"shippingOption\"},\"Shipping method\"),y(\"select\",{value:this.state.shippingOption.id,name:\"shippingOption\",onChange:this.handleFormChanges,className:\"checkout__select\"},y(\"option\",{className:\"checkout__select-option\",disabled:!0},\"Select a shipping method\"),n.map((function(e,t){return y(\"option\",{className:\"checkout__select-option\",value:e.id,key:t},\"\".concat(e.description,\" - $\").concat(e.price.formatted_with_code))})),\";\"),y(\"h4\",{className:\"checkout__subheading\"},\"Payment information\"),y(\"label\",{className:\"checkout__label\",htmlFor:\"cardNum\"},\"Credit card number\"),y(\"input\",{className:\"checkout__input\",type:\"text\",name:\"cardNum\",onChange:this.handleFormChanges,value:this.state.cardNum,placeholder:\"Enter your card number\"}),y(\"label\",{className:\"checkout__label\",htmlFor:\"expMonth\"},\"Expiry month\"),y(\"input\",{className:\"checkout__input\",type:\"text\",name:\"expMonth\",onChange:this.handleFormChanges,value:this.state.expMonth,placeholder:\"Card expiry month\"}),y(\"label\",{className:\"checkout__label\",htmlFor:\"expYear\"},\"Expiry year\"),y(\"input\",{className:\"checkout__input\",type:\"text\",name:\"expYear\",onChange:this.handleFormChanges,value:this.state.expYear,placeholder:\"Card expiry year\"}),y(\"label\",{className:\"checkout__label\",htmlFor:\"ccv\"},\"CCV\"),y(\"input\",{className:\"checkout__input\",type:\"text\",name:\"ccv\",onChange:this.handleFormChanges,value:this.state.ccv,placeholder:\"CCV (3 digits)\"}),y(\"button\",{onClick:this.handleCaptureCheckout,className:\"checkout__btn-confirm\"},\"Confirm order\"))}},{key:\"renderCheckoutSummary\",value:function(){var e=this.context.cart;if(Object.keys(e).length>0)return y(r.a.Fragment,null,y(\"div\",{className:\"checkout__summary\"},y(\"h4\",null,\"Order summary\"),e.line_items.map((function(e){return y(r.a.Fragment,null,y(\"div\",{key:e.id,className:\"checkout__summary-details\"},y(\"img\",{className:\"checkout__summary-img\",src:e.media.source,alt:e.name}),y(\"p\",{className:\"checkout__summary-name\"},e.quantity,\" x \",e.name),y(\"p\",{className:\"checkout__summary-value\"},e.line_total.formatted_with_symbol)))})),y(\"div\",{className:\"checkout__summary-total\"},y(\"p\",{className:\"checkout__summary-price\"},y(\"span\",null,\"Subtotal:\"),e.subtotal.formatted_with_symbol))))}},{key:\"render\",value:function(){return y(\"div\",{className:\"checkout\"},y(\"h2\",{className:\"checkout__heading\"},\"Checkout\"),y(\"div\",{className:\"checkout__wrapper\"},this.renderCheckoutForm(),this.renderCheckoutSummary()))}}]),a}(h.Component);Object(d.a)(C,\"contextType\",_.a);var v=C,k=r.a.createElement;function b(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var N=function(e){Object(s.a)(a,e);var t=b(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:\"render\",value:function(){return k(v,null)}}]),a}(h.Component);t.default=N}},[[\"QCli\",0,1,2,3,4,5,7]]]);","map":{"version":3,"sources":["static/chunks/pages/checkout-a5ccb32fbf0f00c16ad2.js"],"names":["_N_E","window","push","QCli","module","exports","__webpack_require__","__NEXT_P","fdRS","__webpack_exports__","r","classCallCheck","createClass","inherits","possibleConstructorReturn","getPrototypeOf","react","react_default","n","regenerator","regenerator_default","asyncToGenerator","assertThisInitialized","defineProperty","commerce","state","__jsx","a","createElement","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","Object","NewTarget","this","constructor","arguments","apply","CheckoutComponent_CheckoutComponent","_Component","CheckoutComponent","_super","props","_this","firstName","lastName","email","shippingName","shippingStreet","shippingCity","shippingStateProvince","shippingPostalZipCode","shippingCountry","cardNum","expMonth","expYear","ccv","billingPostalZipcode","shippingCountries","shippingSubdivisions","shippingOptions","shippingOption","handleFormChanges","bind","handleShippingCountryChange","handleSubdivisionChange","handleCaptureCheckout","key","value","_getStaticProps","mark","_callee","context","wrap","_context","prev","next","fetchCart","abrupt","stop","_x","generateCheckoutToken","prevProps","prevState","fetchShippingOptions","checkoutToken","id","checkoutTokenId","_this2","services","localeListShippingCountries","then","countries","setState","catch","error","console","log","countryCode","_this3","localeListSubdivisions","subdivisions","country","_this4","stateProvince","length","undefined","checkout","getShippingOptions","region","options","target","name","currentValue","fetchSubdivisions","preventDefault","orderData","tokenID","line_items","live","customer","firstname","lastname","shipping","street","town_city","county_state","postal_zip_code","fulfillment","shipping_method","payment","gateway","card","number","expiry_month","expiry_year","cvc","_this$state","className","onChange","htmlFor","type","placeholder","required","disabled","keys","map","index","method","concat","description","price","formatted_with_code","onClick","cart","Fragment","lineItem","src","media","source","alt","quantity","line_total","formatted_with_symbol","subtotal","renderCheckoutForm","renderCheckoutSummary","components_CheckoutComponent","checkout_jsx","checkout_createSuper","checkout_isNativeReflectConstruct","checkout_Checkout","Checkout"],"mappings":"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"},"name":"static/chunks/pages/checkout-a5ccb32fbf0f00c16ad2.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[16],{\n\n/***/ \"QCli\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/checkout\",\n      function () {\n        return __webpack_require__(\"fdRS\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"fdRS\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(\"H+61\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(\"UlJF\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(\"7LId\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js + 1 modules\nvar possibleConstructorReturn = __webpack_require__(\"VIvw\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\nvar getPrototypeOf = __webpack_require__(\"iHvq\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"vJKn\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"rg98\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(\"+Css\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(\"cpVT\");\n\n// EXTERNAL MODULE: ./lib/commerce.js\nvar commerce = __webpack_require__(\"oKQX\");\n\n// EXTERNAL MODULE: ./context/state.js\nvar state = __webpack_require__(\"26zG\");\n\n// CONCATENATED MODULE: ./components/CheckoutComponent.js\n\n\n\n\n\n\n\n\n\nvar __jsx = react_default.a.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = Object(getPrototypeOf[\"a\" /* default */])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = Object(getPrototypeOf[\"a\" /* default */])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return Object(possibleConstructorReturn[\"a\" /* default */])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar CheckoutComponent_CheckoutComponent = /*#__PURE__*/function (_Component) {\n  Object(inherits[\"a\" /* default */])(CheckoutComponent, _Component);\n\n  var _super = _createSuper(CheckoutComponent);\n\n  function CheckoutComponent(props) {\n    var _this;\n\n    Object(classCallCheck[\"a\" /* default */])(this, CheckoutComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      // Customer details\n      firstName: 'Jane',\n      lastName: 'Doe',\n      email: 'janedoe@email.com',\n      // Shipping details\n      shippingName: 'Jane Doe',\n      shippingStreet: '123 Fake St',\n      shippingCity: 'London',\n      shippingStateProvince: '',\n      shippingPostalZipCode: '',\n      shippingCountry: '',\n      // Payment details\n      cardNum: '4242 4242 4242 4242',\n      expMonth: '11',\n      expYear: '2023',\n      ccv: '123',\n      billingPostalZipcode: 'SM4 4ED',\n      // Shipping and fulfillment data\n      shippingCountries: {},\n      shippingSubdivisions: {},\n      shippingOptions: [],\n      shippingOption: ''\n    };\n    _this.handleFormChanges = _this.handleFormChanges.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));\n    _this.handleShippingCountryChange = _this.handleShippingCountryChange.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));\n    _this.handleSubdivisionChange = _this.handleSubdivisionChange.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));\n    _this.handleCaptureCheckout = _this.handleCaptureCheckout.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));\n    return _this;\n  }\n\n  Object(createClass[\"a\" /* default */])(CheckoutComponent, [{\n    key: \"getStaticProps\",\n    value: function () {\n      var _getStaticProps = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(context) {\n        return regenerator_default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.context.fetchCart();\n                return _context.abrupt(\"return\", {\n                  props: {} // will be passed to the page component as props\n\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getStaticProps(_x) {\n        return _getStaticProps.apply(this, arguments);\n      }\n\n      return getStaticProps;\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.context.generateCheckoutToken();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.state.shippingCountry !== prevState.shippingCountry) {\n        this.fetchShippingOptions(this.state.checkoutToken.id, this.state.shippingCountry);\n      }\n    }\n  }, {\n    key: \"fetchShippingCountries\",\n\n    /**\r\n     * Fetches a list of countries available to ship to checkout token\r\n     * https://commercejs.com/docs/sdk/checkout#list-available-shipping-countries\r\n     *\r\n     * @param {string} checkoutTokenId\r\n     */\n    value: function fetchShippingCountries(checkoutTokenId) {\n      var _this2 = this;\n\n      commerce[\"a\" /* default */].services.localeListShippingCountries(checkoutTokenId).then(function (countries) {\n        _this2.setState({\n          shippingCountries: countries.countries\n        });\n      }).catch(function (error) {\n        console.log('There was an error fetching a list of shipping countries', error);\n      });\n    }\n  }, {\n    key: \"fetchSubdivisions\",\n\n    /**\r\n     * Fetches the subdivisions (provinces/states) for a country\r\n     * https://commercejs.com/docs/sdk/checkout#list-all-subdivisions-for-a-country\r\n     *\r\n     * @param {string} countryCode\r\n     */\n    value: function fetchSubdivisions(countryCode) {\n      var _this3 = this;\n\n      commerce[\"a\" /* default */].services.localeListSubdivisions(countryCode).then(function (subdivisions) {\n        _this3.setState({\n          shippingSubdivisions: subdivisions.subdivisions\n        });\n      }).catch(function (error) {\n        console.log('There was an error fetching the subdivisions', error);\n      });\n    }\n  }, {\n    key: \"fetchShippingOptions\",\n\n    /**\r\n     * Fetches the available shipping methods for the current checkout\r\n     * https://commercejs.com/docs/sdk/checkout#get-shipping-methods\r\n     *\r\n     * @param {string} checkoutTokenId\r\n     * @param {string} country\r\n     * @param {string} stateProvince\r\n     */\n    value: function fetchShippingOptions(checkoutTokenId, country) {\n      var _this4 = this;\n\n      var stateProvince = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      commerce[\"a\" /* default */].checkout.getShippingOptions(checkoutTokenId, {\n        country: country,\n        region: stateProvince\n      }).then(function (options) {\n        // Pre-select the first available method\n        var shippingOption = options[0] || null;\n\n        _this4.setState({\n          shippingOption: shippingOption,\n          shippingOptions: options\n        });\n      }).catch(function (error) {\n        console.log('There was an error fetching the shipping methods', error);\n      });\n    }\n  }, {\n    key: \"handleFormChanges\",\n    value: function handleFormChanges(e) {\n      this.setState(Object(defineProperty[\"a\" /* default */])({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"handleShippingCountryChange\",\n    value: function handleShippingCountryChange(e) {\n      var currentValue = e.target.value;\n      this.fetchSubdivisions(currentValue);\n    }\n  }, {\n    key: \"handleSubdivisionChange\",\n    value: function handleSubdivisionChange(e) {\n      var currentValue = e.target.value;\n      this.fetchShippingOptions(this.state.checkoutToken.id, this.state.shippingCountry, currentValue);\n    }\n  }, {\n    key: \"handleCaptureCheckout\",\n    value: function handleCaptureCheckout(e) {\n      e.preventDefault();\n\n      try {\n        var orderData = {\n          tokenID: this.context.checkoutToken.id,\n          line_items: this.context.checkoutToken.live.line_items,\n          customer: {\n            firstname: this.state.firstName,\n            lastname: this.state.lastName,\n            email: this.state.email\n          },\n          shipping: {\n            name: this.state.shippingName,\n            street: this.state.shippingStreet,\n            town_city: this.state.shippingCity,\n            county_state: this.state.shippingStateProvince,\n            postal_zip_code: this.state.shippingPostalZipCode,\n            country: this.state.shippingCountry\n          },\n          fulfillment: {\n            shipping_method: this.state.shippingOption.id\n          },\n          payment: {\n            gateway: \"test_gateway\",\n            card: {\n              number: this.state.cardNum,\n              expiry_month: this.state.expMonth,\n              expiry_year: this.state.expYear,\n              cvc: this.state.ccv,\n              postal_zip_code: this.state.billingPostalZipcode\n            }\n          }\n        };\n        this.context.handleCaptureCheckout(orderData);\n      } catch (error) {\n        console.log(\"There was an error with the order data\", error);\n      }\n    }\n  }, {\n    key: \"renderCheckoutForm\",\n    value: function renderCheckoutForm() {\n      var _this$state = this.state,\n          shippingCountries = _this$state.shippingCountries,\n          shippingSubdivisions = _this$state.shippingSubdivisions,\n          shippingOptions = _this$state.shippingOptions;\n      return __jsx(\"form\", {\n        className: \"checkout__form\",\n        onChange: this.handleFormChanges\n      }, __jsx(\"h4\", {\n        className: \"checkout__subheading\"\n      }, \"Customer information\"), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"firstName\"\n      }, \"First name\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        onChange: this.handleFormChanges,\n        value: this.state.firstName,\n        name: \"firstName\",\n        placeholder: \"Enter your first name\",\n        required: true\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"lastName\"\n      }, \"Last name\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        onChange: this.handleFormChanges,\n        value: this.state.lastName,\n        name: \"lastName\",\n        placeholder: \"Enter your last name\",\n        required: true\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"email\"\n      }, \"Email\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        onChange: this.handleFormChanges,\n        value: this.state.email,\n        name: \"email\",\n        placeholder: \"Enter your email\",\n        required: true\n      }), __jsx(\"h4\", {\n        className: \"checkout__subheading\"\n      }, \"Shipping details\"), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"shippingName\"\n      }, \"Full name\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        onChange: this.handleFormChanges,\n        value: this.state.shippingName,\n        name: \"shippingName\",\n        placeholder: \"Enter your shipping full name\",\n        required: true\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"shippingStreet\"\n      }, \"Street address\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        onChange: this.handleFormChanges,\n        value: this.state.shippingStreet,\n        name: \"shippingStreet\",\n        placeholder: \"Enter your street address\",\n        required: true\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"shippingCity\"\n      }, \"City\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        onChange: this.handleFormChanges,\n        value: this.state.shippingCity,\n        name: \"shippingCity\",\n        placeholder: \"Enter your city\",\n        required: true\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"shippingPostalZipCode\"\n      }, \"Postal/Zip code\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        onChange: this.handleFormChanges,\n        value: this.state.shippingPostalZipCode,\n        name: \"shippingPostalZipCode\",\n        placeholder: \"Enter your postal/zip code\",\n        required: true\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"shippingCountry\"\n      }, \"Country\"), __jsx(\"select\", {\n        value: this.state.shippingCountry,\n        name: \"shippingCountry\",\n        onChange: this.handleShippingCountryChange,\n        className: \"checkout__select\"\n      }, __jsx(\"option\", {\n        disabled: true\n      }, \"Country\"), Object.keys(shippingCountries).map(function (index) {\n        return __jsx(\"option\", {\n          value: index,\n          key: index\n        }, shippingCountries[index]);\n      }), \";\"), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"shippingStateProvince\"\n      }, \"State/province\"), __jsx(\"select\", {\n        value: this.state.shippingStateProvince,\n        name: \"shippingStateProvince\",\n        onChange: this.handleSubdivisionChange,\n        className: \"checkout__select\"\n      }, __jsx(\"option\", {\n        className: \"checkout__option\",\n        disabled: true\n      }, \"State/province\"), Object.keys(shippingSubdivisions).map(function (index) {\n        return __jsx(\"option\", {\n          value: index,\n          key: index\n        }, shippingSubdivisions[index]);\n      }), \";\"), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"shippingOption\"\n      }, \"Shipping method\"), __jsx(\"select\", {\n        value: this.state.shippingOption.id,\n        name: \"shippingOption\",\n        onChange: this.handleFormChanges,\n        className: \"checkout__select\"\n      }, __jsx(\"option\", {\n        className: \"checkout__select-option\",\n        disabled: true\n      }, \"Select a shipping method\"), shippingOptions.map(function (method, index) {\n        return __jsx(\"option\", {\n          className: \"checkout__select-option\",\n          value: method.id,\n          key: index\n        }, \"\".concat(method.description, \" - $\").concat(method.price.formatted_with_code));\n      }), \";\"), __jsx(\"h4\", {\n        className: \"checkout__subheading\"\n      }, \"Payment information\"), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"cardNum\"\n      }, \"Credit card number\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        name: \"cardNum\",\n        onChange: this.handleFormChanges,\n        value: this.state.cardNum,\n        placeholder: \"Enter your card number\"\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"expMonth\"\n      }, \"Expiry month\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        name: \"expMonth\",\n        onChange: this.handleFormChanges,\n        value: this.state.expMonth,\n        placeholder: \"Card expiry month\"\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"expYear\"\n      }, \"Expiry year\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        name: \"expYear\",\n        onChange: this.handleFormChanges,\n        value: this.state.expYear,\n        placeholder: \"Card expiry year\"\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"ccv\"\n      }, \"CCV\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        name: \"ccv\",\n        onChange: this.handleFormChanges,\n        value: this.state.ccv,\n        placeholder: \"CCV (3 digits)\"\n      }), __jsx(\"button\", {\n        onClick: this.handleCaptureCheckout,\n        className: \"checkout__btn-confirm\"\n      }, \"Confirm order\"));\n    }\n  }, {\n    key: \"renderCheckoutSummary\",\n    value: function renderCheckoutSummary() {\n      var cart = this.context.cart;\n\n      if (Object.keys(cart).length > 0) {\n        return __jsx(react_default.a.Fragment, null, __jsx(\"div\", {\n          className: \"checkout__summary\"\n        }, __jsx(\"h4\", null, \"Order summary\"), cart.line_items.map(function (lineItem) {\n          return __jsx(react_default.a.Fragment, null, __jsx(\"div\", {\n            key: lineItem.id,\n            className: \"checkout__summary-details\"\n          }, __jsx(\"img\", {\n            className: \"checkout__summary-img\",\n            src: lineItem.media.source,\n            alt: lineItem.name\n          }), __jsx(\"p\", {\n            className: \"checkout__summary-name\"\n          }, lineItem.quantity, \" x \", lineItem.name), __jsx(\"p\", {\n            className: \"checkout__summary-value\"\n          }, lineItem.line_total.formatted_with_symbol)));\n        }), __jsx(\"div\", {\n          className: \"checkout__summary-total\"\n        }, __jsx(\"p\", {\n          className: \"checkout__summary-price\"\n        }, __jsx(\"span\", null, \"Subtotal:\"), cart.subtotal.formatted_with_symbol))));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        className: \"checkout\"\n      }, __jsx(\"h2\", {\n        className: \"checkout__heading\"\n      }, \"Checkout\"), __jsx(\"div\", {\n        className: \"checkout__wrapper\"\n      }, this.renderCheckoutForm(), this.renderCheckoutSummary()));\n    }\n  }]);\n\n  return CheckoutComponent;\n}(react[\"Component\"]);\n\nObject(defineProperty[\"a\" /* default */])(CheckoutComponent_CheckoutComponent, \"contextType\", state[\"a\" /* AppContext */]);\n\n;\n/* harmony default export */ var components_CheckoutComponent = (CheckoutComponent_CheckoutComponent);\n// CONCATENATED MODULE: ./pages/checkout.js\n\n\n\n\n\nvar checkout_jsx = react_default.a.createElement;\n\nfunction checkout_createSuper(Derived) { var hasNativeReflectConstruct = checkout_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = Object(getPrototypeOf[\"a\" /* default */])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = Object(getPrototypeOf[\"a\" /* default */])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return Object(possibleConstructorReturn[\"a\" /* default */])(this, result); }; }\n\nfunction checkout_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar checkout_Checkout = /*#__PURE__*/function (_Component) {\n  Object(inherits[\"a\" /* default */])(Checkout, _Component);\n\n  var _super = checkout_createSuper(Checkout);\n\n  function Checkout(props) {\n    Object(classCallCheck[\"a\" /* default */])(this, Checkout);\n\n    return _super.call(this, props);\n  }\n\n  Object(createClass[\"a\" /* default */])(Checkout, [{\n    key: \"render\",\n    value: function render() {\n      return checkout_jsx(components_CheckoutComponent, null);\n    }\n  }]);\n\n  return Checkout;\n}(react[\"Component\"]);\n\n;\n/* harmony default export */ var checkout = __webpack_exports__[\"default\"] = (checkout_Checkout);\n\n/***/ })\n\n},[[\"QCli\",0,1,2,3,4,5,7]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\KGM\\OneDrive\\Documents\\GitHub\\chec\\fyp\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fcheckout&absolutePagePath=private-next-pages%2Fcheckout.js!","C:\\Users\\KGM\\OneDrive\\Documents\\GitHub\\chec\\fyp\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\KGM\\OneDrive\\Documents\\GitHub\\chec\\fyp\\components\\CheckoutComponent.js","C:\\Users\\KGM\\OneDrive\\Documents\\GitHub\\chec\\fyp\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\KGM\\OneDrive\\Documents\\GitHub\\chec\\fyp\\pages\\checkout.js"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAAgC;AACvD;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACN4I;AACe;AACJ;AACN;AACoB;AAC1B;AACkC;AACtB;AACA;AACvJ,YAAY,eAAK;;AAEjB,gCAAgC,6DAA6D,yCAAyC,aAAa,yCAAe,kBAAkB,iCAAiC,iBAAiB,yCAAe,mBAAmB,yDAAyD,EAAE,OAAO,uCAAuC,EAAE,QAAQ,oDAA0B,eAAe,GAAG;;AAEva,sCAAsC,wEAAwE,0CAA0C,8CAA8C,MAAM,wEAAwE,GAAG,aAAa,EAAE,YAAY,cAAc,EAAE;;AAEzR;AACF;AACO;;AAE9C,IAAI,mCAAiB;AACrB,EAAE,mCAAS;;AAEX;;AAEA;AACA;;AAEA,IAAI,yCAAe;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B,8BAA8B;AAC9B;AACA;AACA;AACA,2DAA2D,gDAAsB;AACjF,+EAA+E,gDAAsB;AACrG,uEAAuE,gDAAsB;AAC7F,mEAAmE,gDAAsB;AACzF;AACA;;AAEA,EAAE,sCAAY;AACd;AACA;AACA,4BAA4B,2CAAiB,eAAe,qBAAmB;AAC/E,eAAe,qBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA,2BAA2B;;AAE3B,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA,MAAM,2BAAQ;AACd;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,OAAO;AACP;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA,MAAM,2BAAQ;AACd;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,OAAO;AACP;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA,MAAM,2BAAQ;AACd;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA,oBAAoB,yCAAe,GAAG;AACtC;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT,OAAO,KAAK;AACZ;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT,OAAO,KAAK;AACZ;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO,KAAK;AACZ;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,qBAAqB,eAAK;AAC1B;AACA,SAAS;AACT,uBAAuB,eAAK;AAC5B;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA,WAAW;AACX,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA,CAAC,CAAC,kBAAS;;AAEX,yCAAe,CAAC,mCAAiB,iBAAiB,2BAAU;;AAE5D;AACe,oGAAiB,E;;AC9cuH;AACN;AACN;AACkC;AACtB;AACvJ,IAAI,YAAK,GAAG,eAAK;;AAEjB,SAAS,oBAAY,WAAW,iCAAiC,iCAAyB,GAAG,yCAAyC,aAAa,yCAAe,kBAAkB,iCAAiC,iBAAiB,yCAAe,mBAAmB,yDAAyD,EAAE,OAAO,uCAAuC,EAAE,QAAQ,oDAA0B,eAAe,GAAG;;AAEva,SAAS,iCAAyB,IAAI,wEAAwE,0CAA0C,8CAA8C,MAAM,wEAAwE,GAAG,aAAa,EAAE,YAAY,cAAc,EAAE;;AAEzR;AACuB;;AAEhE,IAAI,iBAAQ;AACZ,EAAE,mCAAS;;AAEX,eAAe,oBAAY;;AAE3B;AACA,IAAI,yCAAe;;AAEnB;AACA;;AAEA,EAAE,sCAAY;AACd;AACA;AACA,aAAa,YAAK,CAAC,4BAAiB;AACpC;AACA,GAAG;;AAEH;AACA,CAAC,CAAC,kBAAS;;AAEX;AACe,+FAAQ,E","file":"x","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/checkout\",\n      function () {\n        return require(\"private-next-pages/checkout.js\");\n      }\n    ]);\n  ","import _regeneratorRuntime from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport commerce from '../lib/commerce';\nimport { AppContext } from '../context/state';\n\nvar CheckoutComponent = /*#__PURE__*/function (_Component) {\n  _inherits(CheckoutComponent, _Component);\n\n  var _super = _createSuper(CheckoutComponent);\n\n  function CheckoutComponent(props) {\n    var _this;\n\n    _classCallCheck(this, CheckoutComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      // Customer details\n      firstName: 'Jane',\n      lastName: 'Doe',\n      email: 'janedoe@email.com',\n      // Shipping details\n      shippingName: 'Jane Doe',\n      shippingStreet: '123 Fake St',\n      shippingCity: 'London',\n      shippingStateProvince: '',\n      shippingPostalZipCode: '',\n      shippingCountry: '',\n      // Payment details\n      cardNum: '4242 4242 4242 4242',\n      expMonth: '11',\n      expYear: '2023',\n      ccv: '123',\n      billingPostalZipcode: 'SM4 4ED',\n      // Shipping and fulfillment data\n      shippingCountries: {},\n      shippingSubdivisions: {},\n      shippingOptions: [],\n      shippingOption: ''\n    };\n    _this.handleFormChanges = _this.handleFormChanges.bind(_assertThisInitialized(_this));\n    _this.handleShippingCountryChange = _this.handleShippingCountryChange.bind(_assertThisInitialized(_this));\n    _this.handleSubdivisionChange = _this.handleSubdivisionChange.bind(_assertThisInitialized(_this));\n    _this.handleCaptureCheckout = _this.handleCaptureCheckout.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(CheckoutComponent, [{\n    key: \"getStaticProps\",\n    value: function () {\n      var _getStaticProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(context) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.context.fetchCart();\n                return _context.abrupt(\"return\", {\n                  props: {} // will be passed to the page component as props\n\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getStaticProps(_x) {\n        return _getStaticProps.apply(this, arguments);\n      }\n\n      return getStaticProps;\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.context.generateCheckoutToken();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.state.shippingCountry !== prevState.shippingCountry) {\n        this.fetchShippingOptions(this.state.checkoutToken.id, this.state.shippingCountry);\n      }\n    }\n  }, {\n    key: \"fetchShippingCountries\",\n\n    /**\r\n     * Fetches a list of countries available to ship to checkout token\r\n     * https://commercejs.com/docs/sdk/checkout#list-available-shipping-countries\r\n     *\r\n     * @param {string} checkoutTokenId\r\n     */\n    value: function fetchShippingCountries(checkoutTokenId) {\n      var _this2 = this;\n\n      commerce.services.localeListShippingCountries(checkoutTokenId).then(function (countries) {\n        _this2.setState({\n          shippingCountries: countries.countries\n        });\n      }).catch(function (error) {\n        console.log('There was an error fetching a list of shipping countries', error);\n      });\n    }\n  }, {\n    key: \"fetchSubdivisions\",\n\n    /**\r\n     * Fetches the subdivisions (provinces/states) for a country\r\n     * https://commercejs.com/docs/sdk/checkout#list-all-subdivisions-for-a-country\r\n     *\r\n     * @param {string} countryCode\r\n     */\n    value: function fetchSubdivisions(countryCode) {\n      var _this3 = this;\n\n      commerce.services.localeListSubdivisions(countryCode).then(function (subdivisions) {\n        _this3.setState({\n          shippingSubdivisions: subdivisions.subdivisions\n        });\n      }).catch(function (error) {\n        console.log('There was an error fetching the subdivisions', error);\n      });\n    }\n  }, {\n    key: \"fetchShippingOptions\",\n\n    /**\r\n     * Fetches the available shipping methods for the current checkout\r\n     * https://commercejs.com/docs/sdk/checkout#get-shipping-methods\r\n     *\r\n     * @param {string} checkoutTokenId\r\n     * @param {string} country\r\n     * @param {string} stateProvince\r\n     */\n    value: function fetchShippingOptions(checkoutTokenId, country) {\n      var _this4 = this;\n\n      var stateProvince = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      commerce.checkout.getShippingOptions(checkoutTokenId, {\n        country: country,\n        region: stateProvince\n      }).then(function (options) {\n        // Pre-select the first available method\n        var shippingOption = options[0] || null;\n\n        _this4.setState({\n          shippingOption: shippingOption,\n          shippingOptions: options\n        });\n      }).catch(function (error) {\n        console.log('There was an error fetching the shipping methods', error);\n      });\n    }\n  }, {\n    key: \"handleFormChanges\",\n    value: function handleFormChanges(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"handleShippingCountryChange\",\n    value: function handleShippingCountryChange(e) {\n      var currentValue = e.target.value;\n      this.fetchSubdivisions(currentValue);\n    }\n  }, {\n    key: \"handleSubdivisionChange\",\n    value: function handleSubdivisionChange(e) {\n      var currentValue = e.target.value;\n      this.fetchShippingOptions(this.state.checkoutToken.id, this.state.shippingCountry, currentValue);\n    }\n  }, {\n    key: \"handleCaptureCheckout\",\n    value: function handleCaptureCheckout(e) {\n      e.preventDefault();\n\n      try {\n        var orderData = {\n          tokenID: this.context.checkoutToken.id,\n          line_items: this.context.checkoutToken.live.line_items,\n          customer: {\n            firstname: this.state.firstName,\n            lastname: this.state.lastName,\n            email: this.state.email\n          },\n          shipping: {\n            name: this.state.shippingName,\n            street: this.state.shippingStreet,\n            town_city: this.state.shippingCity,\n            county_state: this.state.shippingStateProvince,\n            postal_zip_code: this.state.shippingPostalZipCode,\n            country: this.state.shippingCountry\n          },\n          fulfillment: {\n            shipping_method: this.state.shippingOption.id\n          },\n          payment: {\n            gateway: \"test_gateway\",\n            card: {\n              number: this.state.cardNum,\n              expiry_month: this.state.expMonth,\n              expiry_year: this.state.expYear,\n              cvc: this.state.ccv,\n              postal_zip_code: this.state.billingPostalZipcode\n            }\n          }\n        };\n        this.context.handleCaptureCheckout(orderData);\n      } catch (error) {\n        console.log(\"There was an error with the order data\", error);\n      }\n    }\n  }, {\n    key: \"renderCheckoutForm\",\n    value: function renderCheckoutForm() {\n      var _this$state = this.state,\n          shippingCountries = _this$state.shippingCountries,\n          shippingSubdivisions = _this$state.shippingSubdivisions,\n          shippingOptions = _this$state.shippingOptions;\n      return __jsx(\"form\", {\n        className: \"checkout__form\",\n        onChange: this.handleFormChanges\n      }, __jsx(\"h4\", {\n        className: \"checkout__subheading\"\n      }, \"Customer information\"), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"firstName\"\n      }, \"First name\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        onChange: this.handleFormChanges,\n        value: this.state.firstName,\n        name: \"firstName\",\n        placeholder: \"Enter your first name\",\n        required: true\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"lastName\"\n      }, \"Last name\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        onChange: this.handleFormChanges,\n        value: this.state.lastName,\n        name: \"lastName\",\n        placeholder: \"Enter your last name\",\n        required: true\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"email\"\n      }, \"Email\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        onChange: this.handleFormChanges,\n        value: this.state.email,\n        name: \"email\",\n        placeholder: \"Enter your email\",\n        required: true\n      }), __jsx(\"h4\", {\n        className: \"checkout__subheading\"\n      }, \"Shipping details\"), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"shippingName\"\n      }, \"Full name\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        onChange: this.handleFormChanges,\n        value: this.state.shippingName,\n        name: \"shippingName\",\n        placeholder: \"Enter your shipping full name\",\n        required: true\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"shippingStreet\"\n      }, \"Street address\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        onChange: this.handleFormChanges,\n        value: this.state.shippingStreet,\n        name: \"shippingStreet\",\n        placeholder: \"Enter your street address\",\n        required: true\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"shippingCity\"\n      }, \"City\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        onChange: this.handleFormChanges,\n        value: this.state.shippingCity,\n        name: \"shippingCity\",\n        placeholder: \"Enter your city\",\n        required: true\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"shippingPostalZipCode\"\n      }, \"Postal/Zip code\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        onChange: this.handleFormChanges,\n        value: this.state.shippingPostalZipCode,\n        name: \"shippingPostalZipCode\",\n        placeholder: \"Enter your postal/zip code\",\n        required: true\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"shippingCountry\"\n      }, \"Country\"), __jsx(\"select\", {\n        value: this.state.shippingCountry,\n        name: \"shippingCountry\",\n        onChange: this.handleShippingCountryChange,\n        className: \"checkout__select\"\n      }, __jsx(\"option\", {\n        disabled: true\n      }, \"Country\"), Object.keys(shippingCountries).map(function (index) {\n        return __jsx(\"option\", {\n          value: index,\n          key: index\n        }, shippingCountries[index]);\n      }), \";\"), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"shippingStateProvince\"\n      }, \"State/province\"), __jsx(\"select\", {\n        value: this.state.shippingStateProvince,\n        name: \"shippingStateProvince\",\n        onChange: this.handleSubdivisionChange,\n        className: \"checkout__select\"\n      }, __jsx(\"option\", {\n        className: \"checkout__option\",\n        disabled: true\n      }, \"State/province\"), Object.keys(shippingSubdivisions).map(function (index) {\n        return __jsx(\"option\", {\n          value: index,\n          key: index\n        }, shippingSubdivisions[index]);\n      }), \";\"), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"shippingOption\"\n      }, \"Shipping method\"), __jsx(\"select\", {\n        value: this.state.shippingOption.id,\n        name: \"shippingOption\",\n        onChange: this.handleFormChanges,\n        className: \"checkout__select\"\n      }, __jsx(\"option\", {\n        className: \"checkout__select-option\",\n        disabled: true\n      }, \"Select a shipping method\"), shippingOptions.map(function (method, index) {\n        return __jsx(\"option\", {\n          className: \"checkout__select-option\",\n          value: method.id,\n          key: index\n        }, \"\".concat(method.description, \" - $\").concat(method.price.formatted_with_code));\n      }), \";\"), __jsx(\"h4\", {\n        className: \"checkout__subheading\"\n      }, \"Payment information\"), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"cardNum\"\n      }, \"Credit card number\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        name: \"cardNum\",\n        onChange: this.handleFormChanges,\n        value: this.state.cardNum,\n        placeholder: \"Enter your card number\"\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"expMonth\"\n      }, \"Expiry month\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        name: \"expMonth\",\n        onChange: this.handleFormChanges,\n        value: this.state.expMonth,\n        placeholder: \"Card expiry month\"\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"expYear\"\n      }, \"Expiry year\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        name: \"expYear\",\n        onChange: this.handleFormChanges,\n        value: this.state.expYear,\n        placeholder: \"Card expiry year\"\n      }), __jsx(\"label\", {\n        className: \"checkout__label\",\n        htmlFor: \"ccv\"\n      }, \"CCV\"), __jsx(\"input\", {\n        className: \"checkout__input\",\n        type: \"text\",\n        name: \"ccv\",\n        onChange: this.handleFormChanges,\n        value: this.state.ccv,\n        placeholder: \"CCV (3 digits)\"\n      }), __jsx(\"button\", {\n        onClick: this.handleCaptureCheckout,\n        className: \"checkout__btn-confirm\"\n      }, \"Confirm order\"));\n    }\n  }, {\n    key: \"renderCheckoutSummary\",\n    value: function renderCheckoutSummary() {\n      var cart = this.context.cart;\n\n      if (Object.keys(cart).length > 0) {\n        return __jsx(React.Fragment, null, __jsx(\"div\", {\n          className: \"checkout__summary\"\n        }, __jsx(\"h4\", null, \"Order summary\"), cart.line_items.map(function (lineItem) {\n          return __jsx(React.Fragment, null, __jsx(\"div\", {\n            key: lineItem.id,\n            className: \"checkout__summary-details\"\n          }, __jsx(\"img\", {\n            className: \"checkout__summary-img\",\n            src: lineItem.media.source,\n            alt: lineItem.name\n          }), __jsx(\"p\", {\n            className: \"checkout__summary-name\"\n          }, lineItem.quantity, \" x \", lineItem.name), __jsx(\"p\", {\n            className: \"checkout__summary-value\"\n          }, lineItem.line_total.formatted_with_symbol)));\n        }), __jsx(\"div\", {\n          className: \"checkout__summary-total\"\n        }, __jsx(\"p\", {\n          className: \"checkout__summary-price\"\n        }, __jsx(\"span\", null, \"Subtotal:\"), cart.subtotal.formatted_with_symbol))));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        className: \"checkout\"\n      }, __jsx(\"h2\", {\n        className: \"checkout__heading\"\n      }, \"Checkout\"), __jsx(\"div\", {\n        className: \"checkout__wrapper\"\n      }, this.renderCheckoutForm(), this.renderCheckoutSummary()));\n    }\n  }]);\n\n  return CheckoutComponent;\n}(Component);\n\n_defineProperty(CheckoutComponent, \"contextType\", AppContext);\n\n;\nexport default CheckoutComponent;","import _classCallCheck from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport CheckoutComponent from '../components/CheckoutComponent';\n\nvar Checkout = /*#__PURE__*/function (_Component) {\n  _inherits(Checkout, _Component);\n\n  var _super = _createSuper(Checkout);\n\n  function Checkout(props) {\n    _classCallCheck(this, Checkout);\n\n    return _super.call(this, props);\n  }\n\n  _createClass(Checkout, [{\n    key: \"render\",\n    value: function render() {\n      return __jsx(CheckoutComponent, null);\n    }\n  }]);\n\n  return Checkout;\n}(Component);\n\n;\nexport default Checkout;"]}}