{"ast":null,"code":"import auth0 from '../../lib/auth0';\nimport axios from 'axios';\nimport { version } from 'react';\nconst authAPI = axios.create({\n  baseURL: process.env.AUTHMSBASEURL,\n  timeout: 10000\n});\nexport default async function login(req, res) {\n  try {\n    let authResponse = await authAPI.get(\"/login\").then(auth => {\n      return auth.location;\n    });\n    res.redirect(authResponse);\n  } catch (error) {\n    console.error(error);\n    res.status(error.status || 500).end(error.message);\n  } // try {\n  //   await auth0.handleLogin(req, res)\n  // } catch (error) {\n  //   console.error(error)\n  //   res.status(error.status || 500).end(error.message)\n  // }\n\n}","map":{"version":3,"sources":["C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/pages/api/login.js"],"names":["auth0","axios","version","authAPI","create","baseURL","process","env","AUTHMSBASEURL","timeout","login","req","res","authResponse","get","then","auth","location","redirect","error","console","status","end","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,iBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,OAAxB;AAEA,MAAMC,OAAO,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC3BC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,aADM;AAE3BC,EAAAA,OAAO,EAAE;AAFkB,CAAb,CAAhB;AAKA,eAAe,eAAeC,KAAf,CAAqBC,GAArB,EAA0BC,GAA1B,EAA+B;AAC5C,MAAI;AAEF,QAAIC,YAAY,GAAG,MAAMV,OAAO,CAACW,GAAR,CAAY,QAAZ,EAAsBC,IAAtB,CAA2BC,IAAI,IAAI;AAC1D,aAAOA,IAAI,CAACC,QAAZ;AACD,KAFwB,CAAzB;AAIAL,IAAAA,GAAG,CAACM,QAAJ,CAAaL,YAAb;AACD,GAPD,CAOE,OAAOM,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAP,IAAAA,GAAG,CAACS,MAAJ,CAAWF,KAAK,CAACE,MAAN,IAAgB,GAA3B,EAAgCC,GAAhC,CAAoCH,KAAK,CAACI,OAA1C;AACD,GAX2C,CAc5C;AACA;AACA;AACA;AACA;AACA;;AACD","sourcesContent":["import auth0 from '../../lib/auth0'\r\nimport axios from 'axios';\r\nimport { version } from 'react';\r\n\r\nconst authAPI = axios.create({\r\n  baseURL: process.env.AUTHMSBASEURL,\r\n  timeout: 10000\r\n});\r\n\r\nexport default async function login(req, res) {\r\n  try {\r\n\r\n    let authResponse = await authAPI.get(\"/login\").then(auth => {\r\n      return auth.location\r\n    })\r\n\r\n    res.redirect(authResponse);\r\n  } catch (error) {\r\n    console.error(error)\r\n    res.status(error.status || 500).end(error.message)\r\n  }\r\n\r\n\r\n  // try {\r\n  //   await auth0.handleLogin(req, res)\r\n  // } catch (error) {\r\n  //   console.error(error)\r\n  //   res.status(error.status || 500).end(error.message)\r\n  // }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}