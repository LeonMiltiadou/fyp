{"ast":null,"code":"import Pusher from 'pusher-js';\nexport default (async (req, res) => {\n  if (req.method !== 'GET') {\n    return res.status(400).send('Invalid HTTP method');\n  }\n\n  var pusher = new Pusher('4b368d79d76620bdd3a5', {\n    cluster: 'eu'\n  });\n  var channel = pusher.subscribe('test');\n  return new Promise((resolve, reject) => {\n    channel.bind('event', function (data) {\n      res.json({\n        location: JSON.stringify(data)\n      });\n    });\n  });\n});","map":{"version":3,"sources":["C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/pages/api/getlocation.js"],"names":["Pusher","req","res","method","status","send","pusher","cluster","channel","subscribe","Promise","resolve","reject","bind","data","json","location","JSON","stringify"],"mappings":"AACA,OAAOA,MAAP,MAAmB,WAAnB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAEjC,MAAID,GAAG,CAACE,MAAJ,KAAe,KAAnB,EAA0B;AACxB,WAAOD,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,qBAArB,CAAP;AACD;;AAGD,MAAIC,MAAM,GAAG,IAAIN,MAAJ,CAAW,sBAAX,EAAmC;AAC9CO,IAAAA,OAAO,EAAE;AADqC,GAAnC,CAAb;AAIA,MAAIC,OAAO,GAAGF,MAAM,CAACG,SAAP,CAAiB,MAAjB,CAAd;AAEA,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCJ,IAAAA,OAAO,CAACK,IAAR,CAAa,OAAb,EAAsB,UAAUC,IAAV,EAAgB;AACtCZ,MAAAA,GAAG,CAACa,IAAJ,CAAS;AAAEC,QAAAA,QAAQ,EAAEC,IAAI,CAACC,SAAL,CAAeJ,IAAf;AAAZ,OAAT;AACD,KAFC;AAGH,GAJQ,CAAP;AAMD,CAnBD","sourcesContent":["\r\nimport Pusher from 'pusher-js';\r\n\r\nexport default async (req, res) => {\r\n\r\n  if (req.method !== 'GET') {\r\n    return res.status(400).send('Invalid HTTP method');\r\n  }\r\n\r\n\r\n  var pusher = new Pusher('4b368d79d76620bdd3a5', {\r\n    cluster: 'eu'\r\n  });\r\n\r\n  var channel = pusher.subscribe('test');\r\n\r\n  return new Promise((resolve, reject) => {\r\n    channel.bind('event', function (data) {\r\n    res.json({ location: JSON.stringify(data) });\r\n  });\r\n});\r\n\r\n};"]},"metadata":{},"sourceType":"module"}