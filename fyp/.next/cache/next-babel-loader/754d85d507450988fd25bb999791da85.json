{"ast":null,"code":"import Pusher from 'pusher-js';\nlet dataStored = \"init\";\nexport default (async (req, res) => {\n  if (req.method !== 'GET') {\n    return res.status(400).send('Invalid HTTP method');\n  }\n\n  var pusher = new Pusher('4b368d79d76620bdd3a5', {\n    cluster: 'eu'\n  });\n  var channel = pusher.subscribe('test');\n  channel.bind('driver-location', function (data) {\n    dataStored = JSON.stringify(data);\n  });\n  res.json({\n    location: dataStored\n  });\n});","map":{"version":3,"sources":["C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/pages/api/getlocation.js"],"names":["Pusher","dataStored","req","res","method","status","send","pusher","cluster","channel","subscribe","bind","data","JSON","stringify","json","location"],"mappings":"AACA,OAAOA,MAAP,MAAmB,WAAnB;AAEE,IAAIC,UAAU,GAAG,MAAjB;AACF,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAEjC,MAAID,GAAG,CAACE,MAAJ,KAAe,KAAnB,EAA0B;AACxB,WAAOD,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,qBAArB,CAAP;AACD;;AAGD,MAAIC,MAAM,GAAG,IAAIP,MAAJ,CAAW,sBAAX,EAAmC;AAC9CQ,IAAAA,OAAO,EAAE;AADqC,GAAnC,CAAb;AAIA,MAAIC,OAAO,GAAGF,MAAM,CAACG,SAAP,CAAiB,MAAjB,CAAd;AAEAD,EAAAA,OAAO,CAACE,IAAR,CAAa,iBAAb,EAAgC,UAAUC,IAAV,EAAgB;AAC9CX,IAAAA,UAAU,GAAGY,IAAI,CAACC,SAAL,CAAeF,IAAf,CAAb;AACD,GAFD;AAIAT,EAAAA,GAAG,CAACY,IAAJ,CAAS;AAAEC,IAAAA,QAAQ,EAAEf;AAAZ,GAAT;AAED,CAnBD","sourcesContent":["\r\nimport Pusher from 'pusher-js';\r\n\r\n  let dataStored = \"init\";\r\nexport default async (req, res) => {\r\n\r\n  if (req.method !== 'GET') {\r\n    return res.status(400).send('Invalid HTTP method');\r\n  }\r\n\r\n\r\n  var pusher = new Pusher('4b368d79d76620bdd3a5', {\r\n    cluster: 'eu'\r\n  });\r\n\r\n  var channel = pusher.subscribe('test');\r\n\r\n  channel.bind('driver-location', function (data) {\r\n    dataStored = JSON.stringify(data);\r\n  });\r\n\r\n  res.json({ location: dataStored });\r\n\r\n};"]},"metadata":{},"sourceType":"module"}