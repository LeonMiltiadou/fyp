{"ast":null,"code":"import _extends from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"C:/Users/KGM/OneDrive/Documents/GitHub/chec/fyp/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport CartItem from './CartItem';\nimport { AppContext } from '../context/state.js';\nimport Router from 'next/router';\nimport Modal from 'react-bootstrap/Modal';\n\nvar Cart = /*#__PURE__*/function (_Component) {\n  _inherits(Cart, _Component);\n\n  var _super = _createSuper(Cart);\n\n  function Cart(props) {\n    var _this;\n\n    _classCallCheck(this, Cart);\n\n    _this = _super.call(this, props);\n    _this.handleEmptyCart = _this.handleEmptyCart.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Cart, [{\n    key: \"handleEmptyCart\",\n    value: function handleEmptyCart() {\n      this.context.handleEmptyCart();\n    }\n  }, {\n    key: \"renderEmptyCart\",\n    value: function renderEmptyCart() {\n      var cart = this.context.cart;\n\n      if (cart.total_unique_items > 0) {\n        return;\n      }\n\n      return __jsx(\"p\", {\n        className: \"cart__none\"\n      }, \"You have no items in your shopping cart, start adding some!\");\n    }\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.context.toggleCart();\n    }\n  }, {\n    key: \"renderCart\",\n    value: function renderCart() {\n      var _this2 = this;\n\n      var cart = this.context.cart;\n\n      if (cart.total_unique_items === 0) {\n        return;\n      }\n\n      return __jsx(React.Fragment, null, cart.line_items.map(function (lineItem) {\n        return __jsx(CartItem, _extends({\n          item: lineItem,\n          key: lineItem.id\n        }, _this2.props, {\n          className: \"cart__inner\"\n        }));\n      }), __jsx(\"div\", {\n        className: \"cart__total\"\n      }, __jsx(\"p\", {\n        className: \"cart__total-title\"\n      }, \"Subtotal:\"), __jsx(\"p\", {\n        className: \"cart__total-price\"\n      }, cart.subtotal.formatted_with_symbol)), __jsx(\"div\", {\n        className: \"cart__footer\"\n      }, __jsx(\"button\", {\n        className: \"cart__btn-empty\",\n        onClick: this.handleEmptyCart\n      }, \"Empty cart\"), __jsx(\"button\", {\n        className: \"cart__btn-checkout\",\n        onClick: function onClick() {\n          return Router.push({\n            pathname: '/checkout'\n          });\n        }\n      }, \"Checkout\")));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return __jsx(Modal, {\n        onHide: function onHide() {\n          return _this3.handleClose();\n        },\n        show: this.context.isCartVisible\n      }, __jsx(Modal.Header, {\n        closeButton: true\n      }, __jsx(Modal.Title, null, \"Your Shopping Cart\")), __jsx(Modal.Body, null, __jsx(\"div\", {\n        className: \"cart\"\n      }, this.renderEmptyCart(), this.renderCart())));\n    }\n  }]);\n\n  return Cart;\n}(Component);\n\n_defineProperty(Cart, \"contextType\", AppContext);\n\n;\nexport default Cart;","map":null,"metadata":{},"sourceType":"module"}