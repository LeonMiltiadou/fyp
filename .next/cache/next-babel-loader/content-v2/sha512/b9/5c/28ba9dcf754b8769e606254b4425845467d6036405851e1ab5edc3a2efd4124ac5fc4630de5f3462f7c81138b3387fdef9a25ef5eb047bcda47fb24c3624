{"ast":null,"code":"let axios = require(\"axios\").default;\n\nlet getTokenOptions = {\n  method: 'POST',\n  url: 'https://leonfyp.eu.auth0.com/oauth/token',\n  headers: {\n    'content-type': 'application/json'\n  },\n  data: {\n    grant_type: 'client_credentials',\n    client_id: process.env.AUTH0_CLIENT_ID,\n    client_secret: process.env.AUTH0_CLIENT_SECRET,\n    audience: 'https://leonfyp.eu.auth0.com/api/v2/'\n  }\n};\nexport default async function getUser(req, res) {\n  if (req.method !== 'GET') {\n    res.status(400).send({\n      message: 'Only GET requests allowed'\n    });\n    return;\n  }\n\n  axios.request(getTokenOptions).then(function (response) {\n    axios.request({\n      method: 'GET',\n      url: 'https://leonfyp.eu.auth0.com/api/v2/users/' + req.query.id,\n      headers: {\n        'content-type': \"application/json\",\n        'Authorization': 'Bearer ' + response.data.access_token\n      }\n    }).then(function (response) {\n      console.log(response.data);\n      res.send(response.data);\n    }).catch(function (error) {\n      console.error(error);\n      res.status(error.status || 500).end(error.message);\n    });\n  }).catch(function (error) {\n    console.error(error);\n    res.status(error.status || 500).end(error.message);\n  });\n}","map":null,"metadata":{},"sourceType":"module"}